{% extends "base.html" %}
{% load static %}

{% block title %}Asset Management{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'asset_list' %}active{% endif %}" 
                           href="{% url 'assets:asset_list' %}">
                            <i class="fas fa-list"></i> Assets
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'add_asset' %}active{% endif %}" 
                           href="{% url 'assets:add_asset' %}">
                            <i class="fas fa-plus"></i> Add Asset
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'maintenance_schedule' %}active{% endif %}" 
                           href="{% url 'assets:maintenance_schedule' %}">
                            <i class="fas fa-tools"></i> Maintenance
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'asset_transfer' %}active{% endif %}" 
                           href="{% url 'assets:asset_transfer' %}">
                            <i class="fas fa-exchange-alt"></i> Transfers
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'warranty_list' %}active{% endif %}" 
                           href="{% url 'assets:warranty_list' %}">
                            <i class="fas fa-shield-alt"></i> Warranties
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'insurance_list' %}active{% endif %}" 
                           href="{% url 'assets:insurance_list' %}">
                            <i class="fas fa-file-contract"></i> Insurance
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'document_list' %}active{% endif %}" 
                           href="{% url 'assets:document_list' %}">
                            <i class="fas fa-file-alt"></i> Documents
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'generate_pdf_report' %}active{% endif %}" 
                           href="{% url 'assets:generate_pdf_report' %}">
                            <i class="fas fa-file-pdf"></i> PDF Report
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.url_name == 'generate_excel_report' %}active{% endif %}" 
                           href="{% url 'assets:generate_excel_report' %}">
                            <i class="fas fa-file-excel"></i> Excel Report
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main content -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            {% if messages %}
            <div class="messages">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            {% block asset_content %}{% endblock %}
        </main>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'assets/js/main.js' %}"></script>
{% endblock %}
